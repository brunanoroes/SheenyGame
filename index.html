<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Sheeny</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>
<body class="theme">

<div id="app" class="card">
  <h1>Sheeny</h1>
  <p class="subtitle">Jogo presencial de dedução</p>

  <label>Quantidade de jogadores</label>
  <input type="number" min="3" v-model.number="totalJogadores" />

  <div v-if="totalJogadores >= 3">
    <label v-for="n in totalJogadores" :key="n">
      Nome do Jogador {{ n }}
      <input
        type="text"
        v-model="nomes[n]"
        placeholder="Ex: Ana"
      />
    </label>
  </div>

  <button @click="iniciar">Iniciar jogo</button>
</div>


<script>
new Vue({
  el: "#app",
  data: {
    totalJogadores: 3,
    nomes: {}
  },
  methods: {
    iniciar() {
      if (this.totalJogadores < 3) {
        alert("Mínimo 3 jogadores");
        return;
      }

      // valida nomes
      for (let i = 1; i <= this.totalJogadores; i++) {
        if (!this.nomes[i] || !this.nomes[i].trim()) {
          alert(`Digite o nome do Jogador ${i}`);
          return;
        }
      }

      localStorage.setItem("totalJogadores", this.totalJogadores);
      localStorage.setItem("nomesJogadores", JSON.stringify(this.nomes));

      window.location.href = "game.html";
    }
  }
});
</script>

</body>
</html>
