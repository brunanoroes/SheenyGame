<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Sheeny</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
</head>
<body class="theme">

<div id="app" class="card">
  <a href="regras.html">
    <button class="secondary">
      ðŸ“œ Regras do jogo
    </button>
  </a>

  <h1>Sheeny</h1>
  <p class="subtitle">Jogo presencial de deduÃ§Ã£o</p>

  <label>Quantidade de jogadores</label>
  <input type="number" min="3" v-model.number="totalJogadores" />

  <div v-if="totalJogadores >= 3">
    <label v-for="n in totalJogadores" :key="n">
      Nome do Jogador {{ n }}
      <input
        type="text"
        v-model="nomes[n]"
        placeholder="Ex: Ana"
      />
    </label>
  </div>

  <label>Tempo da rodada (em minutos)</label>
  <input
    type="number"
    min="1"
    v-model.number="tempoRodada"
  />

  <label>Palavras do jogo</label>

<div class="radio-group">
  <label>
    <input
      type="radio"
      value="padrao"
      v-model="modoPalavras"
    />
    Usar palavras do jogo
  </label>

  <label>
    <input
        type="radio"
        value="custom"
        v-model="modoPalavras"
      />
      Adicionar minha lista
    </label>
  </div>

  <div v-if="modoPalavras === 'custom'">
    <label>
      Lista de palavras
      <small>(separe por ; )</small>
    </label>
    <textarea
      v-model="listaCustom"
      rows="4"
      placeholder="Ex: Futebol; Praia; Escola; Cinema"
    ></textarea>
  </div>



  <button @click="iniciar">Iniciar jogo</button>
</div>


<script>
new Vue({
  el: "#app",
  data: {
    totalJogadores: 3,
    tempoRodada: 5,
    nomes: {},
    modoPalavras: "padrao",
    listaCustom: ""
  },
  methods: {
    iniciar() {
      if (this.totalJogadores < 3) {
        alert("MÃ­nimo 3 jogadores");
        return;
      }

      if (!this.tempoRodada || this.tempoRodada < 1) {
        alert("Defina um tempo vÃ¡lido para a rodada");
        return;
      }

      for (let i = 1; i <= this.totalJogadores; i++) {
        if (!this.nomes[i] || !this.nomes[i].trim()) {
          alert(`Digite o nome do Jogador ${i}`);
          return;
        }
      }

      // palavras customizadas
      if (this.modoPalavras === "custom") {
        if (!this.listaCustom.trim()) {
          alert("Digite pelo menos uma palavra");
          return;
        }

        const palavras = this.listaCustom
          .split(";")
          .map(p => p.trim())
          .filter(p => p.length > 0);

        if (palavras.length < 2) {
          alert("Digite pelo menos 2 palavras");
          return;
        }

        localStorage.setItem(
          "palavrasCustom",
          JSON.stringify(palavras)
        );
      } else {
        localStorage.removeItem("palavrasCustom");
      }

      localStorage.setItem("totalJogadores", this.totalJogadores);
      localStorage.setItem("tempoRodada", this.tempoRodada);
      localStorage.setItem("nomesJogadores", JSON.stringify(this.nomes));

      window.location.href = "game.html";
    }

  }
});
</script>


</body>
</html>
